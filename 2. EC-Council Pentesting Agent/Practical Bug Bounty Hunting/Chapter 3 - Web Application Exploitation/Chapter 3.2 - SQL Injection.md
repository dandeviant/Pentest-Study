
**More reference**
- **[PortSwigger Web Security Academy - What is SQL Injection (SQLi)?](https://portswigger.net/web-security/sql-injection)**

---

>[!summary]+ What is SQL injection?
>
> SQL injection is a type of attack where the attacker **inject a code into SQL queries**.

## Method of SQL Injection

1. **Blind Injection**
	- Situations where no feedback is given on user input.
2. **Error-based Injection**
	- Situations where some error is outputted when a query is invalid.
## Types of SQL Injection

1. **Logical Bypass**
	- This involved bypassing some application logic based on a query.
	- Example: Adding `OR 1=1` to a `WHERE` clause
2. **Information Leak**
	- This involved leaking data from other tables.
	- Exxample: Adding a `UNION` to an existing query.

---
## Example - Authentication Bypass (Easy)

**Labs: [PortSwigger SQL Injection Vulnerability Allowing Login Bypass](https://portswigger.net/web-security/sql-injection/lab-login-bypass)**

**Running Queries**
```sql
SELECT COUNT(username) FROM Logins 
WHERE username='@input' 
AND password='@input'
```

**Bypassing Queries**
```sql
SELECT COUNT(username) FROM Logins
WHERE username='administrator';--' AND password=''
```

>[!summary]+ How it Works
>
> `--` is the identifier for SQL comments. Any string or queries after `--` will be a comment.
> So by adding `--`, part of the queries will turn into a comment and disabling SQL queries for password
> In the above example, `WHERE username='administrator' --' AND password=''`  is now just `WHERE username='administrator'` since `AND password=''` has become a comment.
> This way, correct username entry is just enough to allow login without password
>
> **DO NOT FORGET TO PUT semicolon `;` BEFORE `--` TO END THE QUERY AND COMMENT THE UNWANTED `WHERE` CONDITION**



